<!doctype html>
<html lang="en">
<head>
<!--
    <meta http-equiv="refresh" content="0;url=https://lanmurithi.github.io/Smartnet/"> -->
    <meta charset="utf-8">
    <meta http-equiv="pragma" content="no-cache" />
    <meta http-equiv="expires" content="-1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SmartNet - Select & Pay for Session</title>
    <link rel="stylesheet" href="login.css" />
</head>

<body oncontextmenu="return false;">
    <!-- Hidden form for CHAP authentication -->
    $(if chap-id)
    <form name="sendin" action="$(link-login-only)" method="post" style="display:none">
        <input type="hidden" name="username" />
        <input type="hidden" name="password" />
        <input type="hidden" name="dst" value="$(link-orig)" />
        <input type="hidden" name="popup" value="$(popup)" />
    </form>
    $(endif)

    <!-- MikroTik Configuration Script - MUST be inline -->
    <script type="text/javascript">
        // MikroTik template variables - these MUST be in HTML file
        window.MIKROTIK_CONFIG = {
            actionUrl: '$(link-login-only)',
            destination: '$(link-orig)',
            popup: '$(popup)',
            chapId: '$(chap-id)',
            chapChallenge: '$(chap-challenge)',
            mac: '$(mac)',
            ip: '$(ip)',
            sessionId: '$(session-id)',
            linkStatus: '$(link-status)',
            error: '$(error)'
        };
        
        // Debug info
        console.log('MikroTik Config:', window.MIKROTIK_CONFIG);
    </script>

    <!-- Connecting overlay -->
    <div class="connecting-overlay" id="connectingOverlay">
        <div class="connecting-content">
            <div class="spinner"></div>
            <h3>Connecting to SmartNet...</h3>
            <p>Please wait while we authenticate your session.</p>
        </div>
    </div>

    <!-- Main session selection interface -->
    <div class="ie-fixMinHeight">
        <div class="main">
            <div class="wrap animated fadeIn">
                <div class="logo-container">
                    <div class="brand-name">
                        <span class="wifi-icon">üì∂</span>SmartNet
                    </div>
                    <div class="brand-subtitle">Reliable High-Speed WiFi Connection</div>
                </div>

                <!-- Free WiFi Offer Row -->
                <div class="promo-section">
                    <div class="free-wifi-banner">
                        <div class="scrolling-text">
                            <span>Free WiFi ----- Free WiFi Weekends 12AM--3AM ----- Free WiFi ----- Free WiFi Weekends 12AM--3AM </span>
                        </div>
                        <button class="free-connect-btn" id="freeConnectBtn" disabled>
                            Connect Free
                        </button>
                    </div>
                    
                    <div class="spin-wheel-container">
                        <div class="spin-wheel" id="spinWheel">
                            <div class="wheel-section" data-prize="Thanks">Thanks</div>
                            <div class="wheel-section" data-prize="3 Hours">3H</div>
                            <div class="wheel-section" data-prize="100MB">100MB</div>
                            <div class="wheel-section" data-prize="1GB">1GB</div>
                            <div class="wheel-section" data-prize="500MB">500MB</div>
                            <div class="wheel-section" data-prize="1 Hour">1H</div>
                            <div class="wheel-section" data-prize="1 More Chance">+1</div>
                        </div>
                        <div class="wheel-pointer"></div>
                        <button class="spin-btn" id="spinBtn">SPIN</button>
                        <div class="spin-chances">Spins: <span id="spinCount">2</span>/2</div>
                    </div>
                </div>

                <!-- Advertisement Section -->
                <div class="advert-section" onclick="openCashRipple()">
                    <div class="advert-content">
                        <div class="advert-image">üíª</div>
                        <div class="advert-text">
                            <h3>Premium Laptops Available!</h3>
                            <p>Free door delivery ‚Ä¢ Best prices ‚Ä¢ Quality guaranteed</p>
                            <span class="click-hint">Click to explore more products ‚Üí</span>
                        </div>
                    </div>
                </div>

                <!-- Animated Click Package Text -->
                <div class="click-package-text">
                    <span class="blinking-text">üì± Click Package Below</span>
                </div>

                <!-- Status/Error messages -->
                <div id="status-container">
                    <p class="info $(if error)alert$(endif)" id="main-message">
                        $(if error == "")
                            <span class="wifi-icon">
                        $(else)
                            $(error)
                        $(endif)
                    </p>
                </div>

                <!-- Debug information -->
                <div class="debug-info" id="debug-info">
                    <div><strong>Connection Debug Info:</strong></div>
                    <div id="debug-content">
                        $(if chap-id)
                        CHAP Authentication: Enabled<br>
                        CHAP-ID: $(chap-id)<br>
                        $(else)
                        Authentication: Plain text<br>
                        $(endif)
                        Action URL: $(link-login-only)<br>
                        Destination: $(link-orig)<br>
                        Client MAC: $(mac)<br>
                        Client IP: $(ip)<br>
                        Session ID: $(session-id)<br>
                        Link Status: $(link-status)<br>
                        <div id="runtime-debug"></div>
                    </div>
                </div>

                <!-- Compact Bottom Section -->
                <div class="bottom-section">
                    <!-- Session Selection Grid -->
                    <div class="compact-session-grid">
                        <!-- 3 Hours Session -->
                        <button class="compact-session-btn" onclick="selectSession('3h', '3 Hours Quick Access', 10)">
                            <div class="compact-session-content">
                                <div class="session-duration">3H</div>
                                <div class="session-price">KES 10</div>
                            </div>
                        </button>

                        <!-- 12 Hours Session -->
                        <button class="compact-session-btn popular" onclick="selectSession('12h', '12 Hours Half Day', 25)">
                            <div class="compact-session-content">
                                <div class="session-duration">12H</div>
                                <div class="session-price">KES 25</div>
                            </div>
                        </button>

                        <!-- 24 Hours Session -->
                        <button class="compact-session-btn premium" onclick="selectSession('24h', '24 Hours Full Day', 40)">
                            <div class="compact-session-content">
                                <div class="session-duration">24H</div>
                                <div class="session-price">KES 40</div>
                            </div>
                        </button>

                        <!-- 1 Week Session -->
                        <button class="compact-session-btn extended" onclick="selectSession('1w', '1 Week Access', 150)">
                            <div class="compact-session-content">
                                <div class="session-duration">1W</div>
                                <div class="session-price">KES 150</div>
                            </div>
                        </button>

                        <!-- 2 Weeks Session -->
                        <button class="compact-session-btn extended" onclick="selectSession('2w', '2 Weeks Access', 250)">
                            <div class="compact-session-content">
                                <div class="session-duration">2W</div>
                                <div class="session-price">KES 250</div>
                            </div>
                        </button>

                        <!-- 1 Month Session -->
                        <button class="compact-session-btn extended" onclick="selectSession('1m', '1 Month Access', 450)">
                            <div class="compact-session-content">
                                <div class="session-duration">1M</div>
                                <div class="session-price">KES 450</div>
                            </div>
                        </button>
                    </div>

                    <!-- Side by Side Sections -->
                    <div class="side-by-side">
                        <!-- Customer Care Section -->
                        <div class="compact-section customer-care">
                            <div class="section-title">üìû Support</div>
                            <div class="phone-numbers">
                                <a class="compact-phone" href="tel:0716486955">0716486955</a>
                                <a class="compact-phone" href="tel:0745528040">0745528040</a>
                            </div>
                        </div>

                        <!-- Direct Login Section -->
                        <div class="compact-section login-section">
                            <div class="section-title">üîê Login</div>
                            <div class="compact-form">
                                <input type="text" id="directUsername" placeholder="Username">
                                <input type="password" id="directPassword" placeholder="Password">
                                <button type="button" class="compact-btn" onclick="directLogin()">LOGIN</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Footer -->
                <div class="footer">
                    <p>Experience high-speed internet with <strong>SmartNet</strong></p>
                    <div class="info bt">
                        Powered by SmartNet WiFi Solutions ¬© 2024
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Include the JavaScript files -->
    <script type="text/javascript" src="features.js"></script>
    <script type="text/javascript" src="login.js"></script>
</body>

</html>





